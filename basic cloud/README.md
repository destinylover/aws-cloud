# 클라우드 인프라 기초 정리 - 온프레미스와의 비교 중심

이 프로젝트를 진행하기 전에, 클라우드 인프라가 실제로 어떻게 구성되어 있는지부터 정리했다.  
AWS를 사용하긴 하지만, 단순히 서비스 이름을 외우는 수준이 아니라, 전체 인프라 구조가 어떻게 이루어지는지, 그리고 온프레미스 환경과는 어떤 차이가 있는지 이해하고 넘어가는 게 중요하다고 생각했다.

먼저 클라우드에서 자주 나오는 XaaS 용어부터 정리했다.



## XaaS 개념 정리 (IaaS / CaaS / PaaS / SaaS)

- IaaS (Infrastructure as a Service)  
  EC2처럼 인프라만 제공해주는 서비스. OS부터 미들웨어, 앱까지 전부 직접 설정해야 하는 구조다.

- CaaS (Container as a Service) 
  컨테이너 환경까지 제공해주는 구조. AWS에선 EKS, Fargate 등이 여기에 해당된다.  
  애플리케이션은 내가 직접 준비하지만, 실행 환경은 알아서 관리된다.

- PaaS (Platform as a Service)  
  애플리케이션 개발에만 집중할 수 있게 플랫폼 환경까지 제공된다.  
  AWS에서는 Elastic Beanstalk, GCP에선 App Engine이 여기에 해당.

- SaaS (Software as a Service) 
  완전히 제품 형태로 제공되는 서비스. 예를 들어 Google Workspace나 Salesforce 같은 게 대표적이다.

각 모델은 사용자와 클라우드 제공자 간의 책임 범위가 어떻게 나뉘는지가 핵심이다.



# 클라우드 인프라 기본 구조

클라우드에서 실제 장비는 지역마다 분산된 데이터 센터에 존재한다. AWS 기준으로는 리전(Region)이라는 단위로 묶여 있고, 리전 안에는 가용영역(AZ)이 여러 개 존재한다.  
[AWS 글로벌 인프라](https://aws.amazon.com/ko/about-aws/global-infrastructure/regions_az/)
하나의 리전은 보통 서로 물리적으로 분리된 2~3개의 AZ로 구성되고, 각 AZ는 하나 이상의 데이터센터로 구성된다.  
애플리케이션을 배포할 때도 고가용성을 위해 보통 여러 AZ에 걸쳐 자원을 배치하게 된다.


# 온프레미스와 클라우드 인프라 비교

온프레미스는 우리가 직접 장비를 사서, IDC에 넣고, 운영까지 직접 하는 방식이다.  
반면 클라우드는 인프라를 빌려 쓰는 방식이라 초기 투자비용이 없고, 사용한 만큼만 비용이 발생한다.

| 항목 | 클라우드 | 온프레미스 |
|------|----------|------------|
| 비용 | 초기비용 없음, 종량제 | 초기비용 큼, 자산 구입 필요 |
| 확장성 | 빠르고 유연한 확장 가능 | 물리 장비 추가로 확장 |
| 보안 | 벤더가 인프라 보안 관리 | 모든 걸 직접 책임져야 함 |
| 유지보수 | 벤더가 하드웨어 관리 | 자체 인프라팀이 필요 |

특히 비용이나 유지보수 측면에서 클라우드는 운영 부담이 적고,  
보안도 물리 보안이나 인프라 계층은 AWS 같은 벤더가 책임져서 신뢰도가 높다.

---

# 하이브리드와 멀티 클라우드

최근에는 클라우드만 쓰는 경우도 있지만, 기존 시스템이 온프레미스에 있는 경우가 많아서,  
클라우드와 온프레미스를 혼합해서 쓰는 하이브리드 인프라도 자주 등장한다.

- 하이브리드: 온프레미스 + 퍼블릭 클라우드를 같이 운영  
- 멀티 클라우드: AWS, Azure, GCP 등 여러 클라우드를 목적에 따라 나눠서 사용

예를 들어 어떤 회사는 웹 서버는 AWS에 두고, 데이터 분석은 GCP BigQuery를 쓰는 식으로 구성하기도 한다.

---

# AWS에서의 트래픽 흐름

처음엔 이게 잘 이해가 안 됐는데, 실제 요청이 들어와서 서비스까지 전달되는 흐름을 알게 되니까  
보안 그룹, VPC, 서브넷, NAT Gateway 같은 개념들이 왜 필요한지 명확해졌다.

요청 흐름은 아래와 같다.

1. 사용자가 웹 브라우저로 도메인 접속 요청 (Route 53이 처리)
2. Route 53이 VPC에 연결된 퍼블릭 IP로 요청 전달
3. 퍼블릭 IP는 보통 ELB나 NAT Gateway에 연결돼 있음
4. 보안 그룹과 NACL에서 요청 필터링
5. 인스턴스(EC2 등)에 도달 → 작업 처리
6. 필요하면 RDS, S3, EFS 같은 다른 리소스를 사용하고 결과 반환




